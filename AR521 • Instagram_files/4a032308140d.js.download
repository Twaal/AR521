__d(function(g,r,i,a,m,e,d){"use strict";function t(t,o){return 0===t&&o.moreAvailable&&!o.isFetching}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const o=1030,l=r(d[1])(1561),n=r(d[29]).withRouter(function({collectionId:n,history:s,userId:c}){const[u,E]=r(d[2]).useState(!1),[C,S]=r(d[2]).useState(!1),[p,I]=r(d[2]).useState(!1),[v,P]=r(d[2]).useState(!1),[B,T]=r(d[2]).useState(!1),[f,h]=r(d[2]).useState(!1),x=r(d[3]).useDispatch(),b=r(d[3]).useSelector(t=>r(d[4]).getUserById(t,c)),_=r(d[5]).buildUserPathLink(i(d[6])(b.username),'saved'),y=r(d[3]).useSelector(t=>t.displayProperties.viewportWidth),L=y<o,A=r(d[2]).useCallback(()=>r(d[7]).requestSavedCollectionPosts(n,c),[n,c]),D=r(d[3]).useSelector(t=>r(d[8]).getSavedCollectionByCollectionIdForUser(t,{collectionId:n,userId:c})),F=r(d[3]).useSelector(t=>r(d[8]).getVisiblePostsSavedByUserFromCollection(t,{collectionId:n,userId:c}));r(d[2]).useEffect(()=>{null==D&&x(r(d[7]).requestTabbedSavedCollection(n,c))},[D,n,c,x]),r(d[2]).useEffect(()=>{(null==D||t(F?F.length:0,D.pagination))&&x(A())},[D,x,F,A]);const O=null==D||''===D.id||0===F.length&&D.pagination.moreAvailable,k=r(d[11]).isDesktop(),w={source:i(d[10]).SavedCollectionPage},N=t=>{x(r(d[12]).addPostToCollection({collectionId:n,postIds:t,successHandler:()=>{T(!1),S(!1)},failureHandler:()=>{T(!1)},analyticsData:w}))};return a(d[2]).createElement(i(d[13]),{pageIdentifier:i(d[10]).SavedCollectionPage},a(d[2]).createElement(i(d[14]),{id:i(d[10]).SavedCollectionPage,title:null!=D?D.name:l}),a(d[2]).createElement("div",{className:"b4uBN"},u&&a(d[2]).createElement(i(d[15]),{onAddFromSaved:()=>{E(!1),S(!0)},onClose:()=>E(!1),onDeleteCollection:()=>{E(!1),I(!0)},onEditCollection:()=>{E(!1),P(!0)}}),p&&a(d[2]).createElement(i(d[16]),{body:r(d[1])(2247),confirmLabel:r(d[1])(1788),destructiveConfirm:!0,onClose:()=>{I(!1)},onConfirm:function(){h(!0),x(r(d[7]).deleteCollection({collectionId:n,successHandler:()=>{r(d[9]).redirect(_)},failureHandler:()=>{h(!1)},userId:c,source:i(d[10]).SavedCollectionPage}))},requestInFlight:f,title:r(d[1])(2082)}),O?a(d[2]).createElement(r(d[17]).Box,{marginTop:16},a(d[2]).createElement(r(d[17]).Spinner,{position:"absolute",size:"medium"})):a(d[2]).createElement(r(d[17]).Box,{marginTop:6},k&&a(d[2]).createElement(r(d[17]).Box,{alignItems:"start",flex:"grow",marginBottom:4},a(d[2]).createElement(r(d[17]).Button,{borderless:!0,onClick:()=>s.push(_)},a(d[2]).createElement(r(d[17]).Box,{alignItems:"center",direction:"row"},a(d[2]).createElement(i(d[18]),{alt:r(d[19]).BACK_TEXT,color:"ig-secondary-text",direction:"left",size:24}),a(d[2]).createElement(r(d[17]).Box,{padding:1},a(d[2]).createElement(r(d[17]).Text.BodyEmphasized,{color:"ig-secondary-text"},r(d[20]).SAVED_TEXT))))),a(d[2]).createElement(r(d[17]).Box,{alignItems:"center",direction:"row",marginBottom:3},a(d[2]).createElement(r(d[17]).Box,{flex:"grow"},a(d[2]).createElement(r(d[17]).Box,{alignItems:"stretch",marginEnd:L?4:0,marginStart:L?4:0},a(d[2]).createElement(r(d[17]).Text.Title,null,i(d[6])(D).name))),a(d[2]).createElement(r(d[17]).Box,null,n!==r(d[21]).SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION&&k&&a(d[2]).createElement(i(d[22]),{onClick:()=>E(!0)}))),a(d[2]).createElement(r(d[17]).Box,null,F.length>0?a(d[2]).createElement(i(d[23]),{isFetching:i(d[6])(D).pagination.isFetching,isOldestPostLoaded:!i(d[6])(D).pagination.moreAvailable,key:"savedCollectionMedia",maxPostsToDisplay:F.length,mediaLinkBuilder:t=>r(d[5]).buildMediaLink(t),onPostImpression:t=>r(d[24]).logImpressionForPost(t,'savedCollection'),onRequestFirst:()=>x(A()),onRequestNext:()=>x(A()),photoComponentRenderer:null,posts:F,user:b,viewportWidth:y}):a(d[2]).createElement(i(d[25]),{buttonClick:()=>S(!0),type:r(d[26]).PROFILE_EMPTY_STATE_KEYS.SAVED_COLLECTION}),C&&k&&a(d[2]).createElement(i(d[27]),{allowEmptySelection:!1,onClose:()=>S(!1),onDone:t=>{T(!0),N(t)},requestInFlight:B}),v&&k&&a(d[2]).createElement(i(d[28]),{collectionId:n,currentCollectionName:i(d[6])(D).name,onClose:()=>P(!1),pageIdentifier:i(d[10]).SavedCollectionPage})))))});e.PAGE_ID=i(d[10]).SavedCollectionPage,e.SavedCollectionPage=n},11075584,[11075585,13434940,3,5,13435257,13435170,13500444,13238281,13238282,13435294,13435120,13434887,3801121,13238433,13500877,11075586,13500732,13500464,13500502,13435268,13239224,13435067,11075587,13239236,13239240,13239309,13239310,13239313,11075588,6]);
__d(function() {},11075585,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onAddFromSaved:l,onClose:o,onDeleteCollection:t,onEditCollection:n}){return a(d[0]).createElement(r(d[1]).Dialog,{onModalClose:o},null!=t&&a(d[0]).createElement(r(d[1]).DialogItem,{color:"ig-error-or-destructive",onClick:t},r(d[2]).DELETE_COLLECTION_TEXT),null!=l&&a(d[0]).createElement(r(d[1]).DialogItem,{onClick:l},r(d[2]).ADD_FROM_SAVED_TEXT),null!=n&&a(d[0]).createElement(r(d[1]).DialogItem,{onClick:n},r(d[2]).EDIT_COLLECTION_TEXT),a(d[0]).createElement(r(d[1]).DialogItem,{onClick:o},r(d[3]).CANCEL_TEXT))}},11075586,[3,13500464,13239224,13435268]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0])(2032);e.default=function({onClick:n}){return a(d[1]).createElement(r(d[2]).SVGIconButton,{onClick:n,padding:0},a(d[1]).createElement(i(d[3]),{alt:t,color:"ig-primary-text"}))}},11075587,[13434940,3,13500464,13500970]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({collectionId:t,currentCollectionName:l,onClose:o,pageIdentifier:n}){const c=r(d[0]).useDispatch(),s=i(d[1])(),[u,E]=r(d[2]).useState(l),[C,T]=r(d[2]).useState(!1),_=r(d[0]).useSelector(t=>i(d[3])(r(d[4]).getViewer(t))),I=0===u.replace(/\s+/g,'').length;return a(d[2]).createElement(r(d[10]).Modal,{"aria-label":r(d[11]).EDIT_COLLECTION_TEXT,onClose:o},a(d[2]).createElement(r(d[10]).ModalHeader,{onClose:o},a(d[2]).createElement(r(d[10]).Box,{padding:4},r(d[11]).EDIT_COLLECTION_TEXT)),a(d[2]).createElement(r(d[10]).Box,{margin:5},a(d[2]).createElement(r(d[10]).TextInput,{autoFocus:!0,name:"collectionName",onChange:t=>E(t.target.value),placeholder:r(d[11]).COLLECTION_NAME_TEXT,value:u})),a(d[2]).createElement(r(d[10]).DialogItem,{color:"ig-primary-button",disabled:I||C,loading:C,onClick:()=>{T(!0),Promise.resolve(c(r(d[5]).editCollection({collectionId:t,collectionName:u,userId:_.id,source:n}))).then(()=>{T(!1);const l=r(d[6]).buildUserSavedCollectionLink(i(d[3])(_.username),r(d[7]).slugify(u),t);r(d[8]).browserHistory.replace(l),o()}).catch(()=>{T(!1),s({text:r(d[9]).GENERIC_ERROR_MESSAGE})})}},r(d[9]).DONE_TEXT))}},11075588,[5,4653219,3,13500444,13435257,13238281,13435170,13435171,13435294,13435268,13500464,13239224]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(){const t=r(d[0]).useDispatch();return s=>{t(r(d[1]).showToast(s))}}},4653219,[5,13435266]);